<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
</head>
<body>
    <h1>Game Page</h1>
    <p id="cardInfo"></p>

    <!-- Host-only: End Game Button -->
    <div id="endGameContainer" style="display: none;">
        <button onclick="endGame()">End Game</button>
    </div>

    <script>
        // Fetch and display the dealt card
        fetch('/get_dealt_card')
            .then(response => response.json())
            .then(data => {
                document.getElementById("cardInfo").innerText = `Your card: ${data.card}`;
                // If this is the host, show the "End Game" button
                if (data.isHost) {
                    document.getElementById("endGameContainer").style.display = 'block';
                }
            })
            .catch(err => console.error("Error fetching dealt card:", err));

        // End Game Function
        function endGame() {
            fetch('/end_game', { method: 'POST' })
                .then(() => {
                    window.location.href = '/host_player.html'; // Redirect host back
                })
                .catch(err => console.error("Error ending game:", err));
        }
    </script>
</body>
</html>

